@import "../utilities/mixins"

$card-color: $text !default
$card-background-color: $scheme-main !default
$card-shadow: 0 0.5em 1em -0.125em rgba($scheme-invert, 0.1), 0 0px 0 1px rgba($scheme-invert, 0.02) !default
$card-radius: 0.25rem !default

$card-header-background-color: transparent !default
$card-header-color: $purple !default
$card-header-padding: 0.75rem 1rem !default
$card-header-shadow: 0 !default
$card-header-weight: $weight-bold !default

$card-content-background-color: transparent !default
$card-content-padding: 1.5rem !default

$card-footer-background-color: transparent !default
$card-footer-border-top: 1px solid $border-light !default
$card-footer-padding: 1rem !default

$card-media-margin: $block-spacing !default

.card
  background-color: $card-background-color
  border-radius: $card-radius
  box-shadow: $card-shadow
  color: $card-color
  max-width: 100%
  position: relative
  &:not(:last-child)
    margin-bottom: $card-media-margin
  img
    border-radius: 8px
    top: 0
    bottom: 0
    left: 0
    right: 0
    width: 100%
    height: 100%
    object-fit: cover
    object-position: center
    position: absolute
  .img-container
    position: relative
    width: 100%
  .img-container:after
    content: ""
    display: block
    padding-bottom: 100%
  .columns:not(:last-child)
    border-bottom: 1px solid $border-light
  .flex-container 
    padding: 0
    margin: 0
    list-style: none
    -ms-box-orient: horizontal
    display: -webkit-box
    display: -moz-box
    display: -ms-flexbox
    display: -moz-flex
    display: -webkit-flex
    display: flex
  .flex-item
    width: 15%
    margin: 10px
    border: 1px solid #D9E5E6
    align-content: stretch
  .flex-header
    background-color: #D9E5E6
    padding: 5px
    color: $purple
    font-weight: $weight-bold
    font-size: $size-7
  .wrap    
    -webkit-flex-wrap: wrap
    flex-wrap: wrap
  .block
     padding: 5px

%card-item
  &:first-child
    border-top-left-radius: $card-radius
    border-top-right-radius: $card-radius
  &:last-child
    border-bottom-left-radius: $card-radius
    border-bottom-right-radius: $card-radius

.card-header
  @extend %card-item
  background-color: $card-header-background-color
  align-items: stretch
  box-shadow: $card-header-shadow
  border-bottom: 1px solid $border-light
  display: flex
  justify-content: space-between
  button
    background-color: transparent
    border: 0

.card-header-title
  color: $card-header-color
  text-transform: uppercase
  font-weight: $card-header-weight
  padding: $card-header-padding
  small
    text-transform: none
    color: $grey
    font-weight: $weight-normal
    font-size: $size-7

.card-header-icon
  align-items: center
  cursor: pointer
  display: flex
  justify-content: center
  padding: $card-header-padding

.card-image
  display: block
  position: relative
  &:first-child
    img
      border-top-left-radius: $card-radius
      border-top-right-radius: $card-radius
  &:last-child
    img
      border-bottom-left-radius: $card-radius
      border-bottom-right-radius: $card-radius

.card-content
  @extend %card-item
  background-color: $card-content-background-color
  padding: $card-content-padding

.card-footer
  @extend %card-item
  background-color: $card-footer-background-color
  border-top: $card-footer-border-top
  padding: $card-footer-padding
  .icon-resize
    transform: rotate(315deg);

.card-footer-item
  align-items: center
  display: flex
  flex-basis: 0
  flex-grow: 1
  flex-shrink: 0
  padding: $card-footer-padding
  &:not(:last-child)
    +ltr-property("border", $card-footer-border-top)

// Combinations

.card
  .media:not(:last-child)
    margin-bottom: $card-media-margin
